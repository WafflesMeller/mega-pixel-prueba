<!DOCTYPE html>
<html class="dark" lang="es">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Sony Alpha a7 IV | MegaPixel Vzla</title>

    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#cbe600",
              "primary-hover": "#e2ff00",
              "background-black": "#000000",
              "background-card": "#1A1A1A",
              "border-dark": "#333333",
            },
            fontFamily: {
              display: ["Space Grotesk", "sans-serif"],
              sans: ["Space Grotesk", "sans-serif"], // Forzamos Space Grotesk en todo
            },
          },
        },
      };
    </script>
    <style>
      body {
        background-color: #000;
        color: #fff;
        font-family: "Space Grotesk", sans-serif;
      }
      /* Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #000;
      }
      ::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 4px;
      }

      .glass-panel {
        background: rgba(20, 20, 20, 0.95);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      }

      /* Drawers Animation */
      .sidebar-panel {
        transition: transform 0.3s ease-in-out;
      }
      #menu-sidebar {
        transform: translateX(-100%);
      }
      .menu-open #menu-sidebar {
        transform: translateX(0);
      }
      #cart-sidebar {
        transform: translateX(100%);
      }
      .cart-open #cart-sidebar {
        transform: translateX(0);
      }

      .overlay {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
      }
      .menu-open .overlay,
      .cart-open .overlay {
        opacity: 1;
        pointer-events: auto;
      }

      /* Toast */
      .toast {
        transform: translateY(100px);
        opacity: 0;
        transition: all 0.3s;
      }
      .toast.show {
        transform: translateY(0);
        opacity: 1;
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col antialiased">
    <header
      class="fixed top-0 left-0 w-full z-50 glass-panel h-20 transition-all duration-300"
    >
      <div
        class="h-full px-4 lg:px-10 relative flex items-center justify-between"
      >
        <div class="flex-1 flex items-center justify-start">
          <button
            onclick="toggleMenu(true)"
            class="lg:hidden p-2 text-gray-300 hover:text-primary transition-colors"
          >
            <span class="material-symbols-outlined text-3xl">menu</span>
          </button>

          <a
            href="index.html"
            class="hidden lg:flex items-center gap-3 text-white shrink-0 hover:opacity-80 transition-opacity"
          >
            <div class="size-8 text-primary">
              <img
                src="image.png"
                class="w-10 h-10 object-contain"
                alt="Logo"
              />
            </div>
            <h1 class="text-xl font-bold tracking-tight">MegaPixel Vzla</h1>
          </a>
        </div>

        <div class="flex-1 flex justify-center">
          <div
            class="lg:hidden absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-2"
          >
            <div class="size-8 text-primary">
              <img
                src="image.png"
                class="w-10 h-10 object-contain"
                alt="Logo"
              />
            </div>
            <h1 class="text-xl font-bold tracking-tight text-white">
              MegaPixel
            </h1>
          </div>

          <div class="hidden lg:block relative w-full max-w-xl">
            <input
              class="w-full bg-[#1A1A1A] border border-border-dark rounded-lg px-4 py-2.5 text-sm text-white focus:ring-primary focus:border-primary placeholder-gray-500"
              placeholder="Buscar productos..."
              type="text"
            />
            <span
              class="material-symbols-outlined absolute right-3 top-2.5 text-gray-400"
              >search</span
            >
          </div>
        </div>

        <div class="flex-1 flex justify-end items-center gap-3">
          <button
            onclick="toggleCart(true)"
            class="relative p-2 text-gray-300 hover:text-primary transition-colors rounded-full hover:bg-white/5"
          >
            <span class="material-symbols-outlined text-3xl lg:text-2xl"
              >shopping_cart</span
            >
            <span
              id="cart-count"
              class="absolute top-0 right-0 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold leading-none text-black transform translate-x-1/4 -translate-y-1/4 bg-primary rounded-full hidden"
              >0</span
            >
          </button>
          <button
            class="hidden lg:block p-2 text-gray-300 hover:text-primary transition-colors rounded-full hover:bg-white/5"
          >
            <span class="material-symbols-outlined text-2xl"
              >account_circle</span
            >
          </button>
        </div>
      </div>
    </header>

    <main
      class="flex-grow w-full max-w-[1440px] mx-auto px-4 lg:px-12 py-8 pt-24 lg:pt-32"
    >
      <a
        href="catalogo.html"
        class="flex items-center gap-2 mb-8 text-sm group w-fit"
      >
        <span
          class="material-symbols-outlined text-sm text-gray-500 group-hover:text-primary transition-colors"
        >
          arrow_back_ios
        </span>

        <span class="text-gray-500 group-hover:text-primary transition-colors">
          Volver al catálogo
        </span>
      </a>

      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 xl:gap-16">
        <div class="lg:col-span-7 flex flex-col gap-4">
          <div
            class="relative w-full aspect-[4/3] rounded-2xl bg-background-card border border-border-dark overflow-hidden group"
          >
            <div class="absolute top-4 left-4 z-10">
              <span
                class="inline-flex items-center px-3 py-1 rounded-md text-xs font-bold bg-primary text-black uppercase tracking-wider shadow-lg shadow-primary/20"
                >Nuevo Ingreso</span
              >
            </div>
            <img
              id="main-image"
              src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=1000&auto=format&fit=crop"
              alt="Sony Alpha Camera"
              class="w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-700 ease-out"
            />
          </div>

          <div class="grid grid-cols-4 gap-3">
            <button
              onclick="changeImage(this.src)"
              src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=1000"
              class="thumbnail active ring-2 ring-primary relative aspect-square rounded-xl overflow-hidden bg-background-card border border-border-dark hover:opacity-80 transition-all"
            >
              <img
                src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=200"
                class="w-full h-full object-cover pointer-events-none"
              />
            </button>
            <button
              onclick="changeImage(this.src)"
              src="https://images.unsplash.com/photo-1616423664045-60dd55b87d36?q=80&w=1000"
              class="thumbnail relative aspect-square rounded-xl overflow-hidden bg-background-card border border-border-dark hover:opacity-80 transition-all opacity-60 hover:opacity-100"
            >
              <img
                src="https://images.unsplash.com/photo-1616423664045-60dd55b87d36?q=80&w=200"
                class="w-full h-full object-cover pointer-events-none"
              />
            </button>
            <button
              onclick="changeImage(this.src)"
              src="https://images.unsplash.com/photo-1500634245200-e5245c7574ef?q=80&w=1000"
              class="thumbnail relative aspect-square rounded-xl overflow-hidden bg-background-card border border-border-dark hover:opacity-80 transition-all opacity-60 hover:opacity-100"
            >
              <img
                src="https://images.unsplash.com/photo-1500634245200-e5245c7574ef?q=80&w=200"
                class="w-full h-full object-cover pointer-events-none"
              />
            </button>
            <div
              class="relative aspect-square rounded-xl overflow-hidden bg-background-card border border-border-dark flex items-center justify-center cursor-pointer hover:bg-white/5 transition-colors group"
            >
              <span
                class="material-symbols-outlined text-gray-500 group-hover:text-primary text-3xl transition-colors"
                >play_circle</span
              >
            </div>
          </div>
        </div>

        <div class="lg:col-span-5 flex flex-col h-full">
          <div class="mb-6 border-b border-border-dark pb-6">
            <h1
              class="text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-3 tracking-tight leading-tight"
            >
              Sony Alpha a7 IV Mirrorless Camera
            </h1>

            <div class="flex flex-wrap items-center gap-4 mb-5">
              <div class="flex text-primary">
                <span class="material-symbols-outlined text-[20px] fill-current"
                  >star</span
                >
                <span class="material-symbols-outlined text-[20px] fill-current"
                  >star</span
                >
                <span class="material-symbols-outlined text-[20px] fill-current"
                  >star</span
                >
                <span class="material-symbols-outlined text-[20px] fill-current"
                  >star</span
                >
                <span class="material-symbols-outlined text-[20px] fill-current"
                  >star_half</span
                >
              </div>
              <span class="text-gray-400 text-sm">124 Reseñas</span>
              <span class="w-1 h-1 rounded-full bg-gray-600"></span>
              <span
                class="text-green-400 text-sm font-medium flex items-center gap-1 bg-green-400/10 px-2 py-0.5 rounded"
              >
                <span class="material-symbols-outlined text-[16px]"
                  >check_circle</span
                >
                Disponible
              </span>
            </div>

            <div class="flex items-baseline gap-3">
              <span class="text-4xl font-bold text-primary font-display"
                >$2,498.00</span
              >
              <span class="text-lg text-gray-500 line-through">$2,699.99</span>
            </div>
          </div>

          <div class="mb-8">
            <p class="text-gray-300 leading-relaxed text-base">
              Un todoterreno que va más allá de lo básico. La a7 IV cumple una
              doble función con un gran rendimiento en fotografía y vídeo.
              Incluye un sensor CMOS Exmor R BSI de 33 MP y el procesador BIONZ
              XR del buque insignia Alpha 1.
            </p>
          </div>

          <div class="space-y-6 mb-8">
            <div>
              <div class="flex justify-between items-center mb-3">
                <label
                  class="block text-sm font-bold text-gray-300 uppercase tracking-wider"
                  >Opciones de Kit</label
                >
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <label class="cursor-pointer relative">
                  <input checked class="peer sr-only" name="kit" type="radio" />
                  <div
                    class="p-4 rounded-xl border border-border-dark bg-background-card hover:border-gray-500 transition-all peer-checked:border-primary peer-checked:bg-primary/5 peer-checked:shadow-[0_0_15px_rgba(203,230,0,0.1)]"
                  >
                    <span class="block text-white font-bold text-sm"
                      >Solo Cuerpo</span
                    >
                    <span class="block text-gray-500 text-xs mt-1"
                      >Sin lente incluido</span
                    >
                  </div>
                </label>
                <label class="cursor-pointer relative">
                  <input class="peer sr-only" name="kit" type="radio" />
                  <div
                    class="p-4 rounded-xl border border-border-dark bg-background-card hover:border-gray-500 transition-all peer-checked:border-primary peer-checked:bg-primary/5 peer-checked:shadow-[0_0_15px_rgba(203,230,0,0.1)]"
                  >
                    <div class="flex justify-between">
                      <span class="block text-white font-bold text-sm"
                        >Kit 28-70mm</span
                      >
                      <span class="text-primary text-xs font-bold">+$200</span>
                    </div>
                    <span class="block text-gray-500 text-xs mt-1"
                      >Lente zoom estándar</span
                    >
                  </div>
                </label>
              </div>
            </div>
          </div>

          <div class="mt-auto pt-6 border-t border-border-dark">
            <div class="flex flex-col sm:flex-row gap-4 h-auto sm:h-14">
              <div
                class="h-14 sm:h-full bg-background-card rounded-full flex items-center justify-between px-2 w-full sm:w-36 border border-border-dark"
              >
                <button
                  onclick="updatePageQuantity(-1)"
                  class="w-10 h-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors"
                >
                  <span class="material-symbols-outlined text-sm">remove</span>
                </button>
                <span
                  id="quantity-display"
                  class="text-white font-bold text-lg font-display"
                  >1</span
                >
                <button
                  onclick="updatePageQuantity(1)"
                  class="w-10 h-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/5 rounded-full transition-colors"
                >
                  <span class="material-symbols-outlined text-sm">add</span>
                </button>
              </div>

              <button
                onclick="addProductToCart()"
                class="h-14 py-3 sm:h-full flex-1 bg-primary hover:bg-primary-hover text-black rounded-full font-bold text-lg uppercase tracking-wide flex items-center justify-center gap-2 group transition-all duration-300 shadow-[0_0_20px_rgba(203,230,0,0.3)] hover:shadow-[0_0_30px_rgba(203,230,0,0.5)] active:scale-[0.98]"
              >
                <span>Agregar al carrito</span>
                <span
                  class="material-symbols-outlined group-hover:translate-x-1 transition-transform"
                  >arrow_forward</span
                >
              </button>
            </div>

            <div
              class="mt-6 flex flex-wrap items-center justify-center sm:justify-start gap-4 sm:gap-6 text-xs text-gray-500"
            >
              <div class="flex items-center gap-1.5">
                <span class="material-symbols-outlined text-[18px] text-primary"
                  >local_shipping</span
                >
                <span>Envío Gratis</span>
              </div>
              <div class="flex items-center gap-1.5">
                <span class="material-symbols-outlined text-[18px] text-primary"
                  >verified_user</span
                >
                <span>2 Años de Garantía</span>
              </div>
              <div class="flex items-center gap-1.5">
                <span class="material-symbols-outlined text-[18px] text-primary"
                  >payments</span
                >
                <span>Pagos Seguros</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-24 w-full">
        <div class="flex items-center gap-4 mb-8">
          <h3 class="text-2xl font-bold text-white">
            Especificaciones Técnicas
          </h3>
          <div class="h-px bg-border-dark flex-grow"></div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div
            class="bg-background-card p-6 rounded-2xl border border-border-dark hover:border-primary/30 transition-colors group"
          >
            <div
              class="w-10 h-10 rounded-full bg-black border border-border-dark flex items-center justify-center mb-4 text-primary group-hover:scale-110 transition-transform"
            >
              <span class="material-symbols-outlined">camera</span>
            </div>
            <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">
              Tipo de Sensor
            </p>
            <p class="text-white font-bold text-lg">33MP Full-Frame</p>
          </div>
          <div
            class="bg-background-card p-6 rounded-2xl border border-border-dark hover:border-primary/30 transition-colors group"
          >
            <div
              class="w-10 h-10 rounded-full bg-black border border-border-dark flex items-center justify-center mb-4 text-primary group-hover:scale-110 transition-transform"
            >
              <span class="material-symbols-outlined">videocam</span>
            </div>
            <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">
              Grabación de Video
            </p>
            <p class="text-white font-bold text-lg">4K 60p 10-bit</p>
          </div>
          <div
            class="bg-background-card p-6 rounded-2xl border border-border-dark hover:border-primary/30 transition-colors group"
          >
            <div
              class="w-10 h-10 rounded-full bg-black border border-border-dark flex items-center justify-center mb-4 text-primary group-hover:scale-110 transition-transform"
            >
              <span class="material-symbols-outlined">iso</span>
            </div>
            <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">
              Sensibilidad ISO
            </p>
            <p class="text-white font-bold text-lg">100-51200</p>
          </div>
          <div
            class="bg-background-card p-6 rounded-2xl border border-border-dark hover:border-primary/30 transition-colors group"
          >
            <div
              class="w-10 h-10 rounded-full bg-black border border-border-dark flex items-center justify-center mb-4 text-primary group-hover:scale-110 transition-transform"
            >
              <span class="material-symbols-outlined">wifi</span>
            </div>
            <p class="text-gray-500 text-xs uppercase tracking-wider mb-1">
              Conectividad
            </p>
            <p class="text-white font-bold text-lg">Wi-Fi & Bluetooth</p>
          </div>
        </div>
      </div>
    </main>

    <div
      onclick="closeAllDrawers()"
      id="overlay"
      class="fixed inset-0 bg-black/80 z-[60] overlay hidden"
    ></div>

    <aside
      id="menu-sidebar"
      class="fixed top-0 left-0 h-full w-[80%] sm:w-[350px] bg-[#0a0a0a] border-r border-border-dark z-[70] sidebar-panel flex flex-col shadow-2xl"
    >
      <div
        class="p-6 border-b border-border-dark flex items-center justify-between bg-black/50 backdrop-blur-md h-20"
      >
        <h2 class="text-xl font-bold text-white flex items-center gap-2">
          <span class="material-symbols-outlined text-primary">menu</span> Menú
        </h2>
        <button
          onclick="toggleMenu(false)"
          class="text-gray-500 hover:text-white"
        >
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <nav class="space-y-6">
          <a
            href="index.html"
            class="flex items-center gap-4 text-lg font-medium text-white hover:text-primary transition-colors p-2 rounded-lg hover:bg-white/5"
          >
            <span class="material-symbols-outlined text-gray-400">home</span>
            Inicio
          </a>
          <a
            href="#"
            class="flex items-center gap-4 text-lg font-medium text-white hover:text-primary transition-colors p-2 rounded-lg hover:bg-white/5"
          >
            <span class="material-symbols-outlined text-gray-400"
              >inventory_2</span
            >
            Catálogo
          </a>
          <a
            href="#"
            class="flex items-center gap-4 text-lg font-medium text-white hover:text-primary transition-colors p-2 rounded-lg hover:bg-white/5"
          >
            <span class="material-symbols-outlined text-gray-400"
              >support_agent</span
            >
            Soporte
          </a>
        </nav>
      </div>
    </aside>

    <aside
      id="cart-sidebar"
      class="fixed top-0 right-0 h-full w-[85%] sm:w-[400px] bg-[#0a0a0a] border-l border-border-dark z-[70] sidebar-panel flex flex-col shadow-2xl"
    >
      <div
        class="p-6 border-b border-border-dark flex items-center justify-between bg-black/50 backdrop-blur-md h-20"
      >
        <h2 class="text-xl font-bold text-white flex items-center gap-2">
          <span class="material-symbols-outlined text-primary"
            >shopping_bag</span
          >
          Carrito
        </h2>
        <button
          onclick="toggleCart(false)"
          class="text-gray-500 hover:text-white"
        >
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-4"></div>
      <div class="p-6 border-t border-border-dark bg-black">
        <div class="flex justify-between mb-4 text-lg font-bold">
          <span>Total:</span>
          <span id="cart-total" class="text-primary">$0.00</span>
        </div>
        <a href="pre-orden.html" >
        <button
          class="w-full bg-primary text-black font-bold py-3 rounded-full hover:bg-white transition-colors"
        >
          Finalizar Compra
        </button>
        </a>
      </div>
    </aside>

    <div
      id="toast"
      class="fixed bottom-6 left-1/2 -translate-x-1/2 bg-[#1A1A1A] border border-primary text-white px-6 py-3 rounded-full shadow-[0_0_15px_rgba(203,230,0,0.3)] flex items-center gap-3 toast z-[80]"
    >
      <span class="material-symbols-outlined text-primary">check_circle</span>
      <span class="font-medium">Agregado al carrito</span>
    </div>

    <footer class="mt-12 py-8 border-t border-border-dark bg-black">
      <div
        class="max-w-[1440px] mx-auto px-6 lg:px-12 flex flex-col md:flex-row justify-between items-center gap-4"
      >
        <p class="text-gray-500 text-sm">
          © 2024 MegaPixel Vzla. Todos los derechos reservados.
        </p>
        <div class="flex gap-6">
          <a class="text-gray-500 hover:text-primary transition-colors" href="#"
            ><span class="material-symbols-outlined">public</span></a
          >
          <a class="text-gray-500 hover:text-primary transition-colors" href="#"
            ><span class="material-symbols-outlined">mail</span></a
          >
        </div>
      </div>
    </footer>

    <script>
      // PRODUCTO ACTUAL (Simulado)
      const currentProduct = {
        id: 99,
        name: "Sony Alpha a7 IV Mirrorless Camera",
        price: 2498.0,
        image:
          "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=200", // Thumbnail para carrito
        quantity: 1,
      };

      // ESTADO DEL CARRITO (Copiado lógica anterior)
      let cart = [];

      // --- FUNCIONES UI PÁGINA ---
      function updatePageQuantity(delta) {
        let newQty = currentProduct.quantity + delta;
        if (newQty < 1) newQty = 1;
        currentProduct.quantity = newQty;
        document.getElementById("quantity-display").innerText = newQty;
      }

      function changeImage(src) {
        // Actualizar imagen principal
        document.getElementById("main-image").src = src;

        // Manejar clases activas/inactivas en miniaturas
        const thumbnails = document.querySelectorAll(".thumbnail");
        thumbnails.forEach((thumb) => {
          // Un truco simple para comparar URLs
          if (thumb.getAttribute("src") === src) {
            thumb.classList.remove("opacity-60");
            thumb.classList.add("ring-2", "ring-primary");
          } else {
            thumb.classList.add("opacity-60");
            thumb.classList.remove("ring-2", "ring-primary");
          }
        });
      }

      // --- FUNCIONES DEL CARRITO (Lógica Global) ---
      function addProductToCart() {
        // Buscar si ya existe
        const existingItem = cart.find((item) => item.id === currentProduct.id);

        if (existingItem) {
          existingItem.quantity += currentProduct.quantity;
        } else {
          // Clona el objeto para no pasar referencias
          cart.push({ ...currentProduct });
        }

        updateCartUI();
        showToast();
        toggleCart(true);
      }

      // Funciones re-usadas del código anterior para que el sidebar funcione
      function changeQuantity(productId, delta) {
        const item = cart.find((i) => i.id === productId);
        if (!item) return;
        item.quantity += delta;
        if (item.quantity <= 0) {
          removeFromCart(productId);
        } else {
          updateCartUI();
        }
      }

      function removeFromCart(productId) {
        cart = cart.filter((item) => item.id !== productId);
        updateCartUI();
      }

      function updateCartUI() {
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        const badge = document.getElementById("cart-count");
        badge.innerText = totalItems;
        badge.classList.toggle("hidden", totalItems === 0);

        const container = document.getElementById("cart-items");
        if (cart.length === 0) {
          container.innerHTML = `
            <div class="flex flex-col items-center justify-center h-64 text-gray-500">
                <span class="material-symbols-outlined text-4xl mb-2 opacity-50">shopping_cart_off</span>
                <p>Tu carrito está vacío</p>
            </div>`;
        } else {
          container.innerHTML = cart
            .map(
              (item) => `
            <div class="flex gap-3 p-3 bg-[#141414] rounded-xl border border-border-dark group hover:border-gray-700 transition-colors">
                <div class="w-16 h-16 bg-black rounded-lg overflow-hidden shrink-0">
                    <img src="${
                      item.image
                    }" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-1 flex flex-col justify-between">
                    <div class="flex justify-between items-start">
                        <h4 class="text-sm font-medium text-gray-200 line-clamp-1 pr-2">${
                          item.name
                        }</h4>
                        <button onclick="removeFromCart(${
                          item.id
                        })" class="text-gray-600 hover:text-red-500 transition-colors">
                            <span class="material-symbols-outlined text-lg">close</span>
                        </button>
                    </div>
                    <div class="flex justify-between items-end mt-1">
                        <div class="flex items-center gap-3 bg-black rounded-lg px-2 py-1 border border-border-dark">
                            <button onclick="changeQuantity(${
                              item.id
                            }, -1)" class="text-gray-400 hover:text-white transition-colors w-4 flex justify-center">-</button>
                            <span class="text-xs font-bold text-white w-4 text-center">${
                              item.quantity
                            }</span>
                            <button onclick="changeQuantity(${
                              item.id
                            }, 1)" class="text-gray-400 hover:text-white transition-colors w-4 flex justify-center">+</button>
                        </div>
                        <span class="text-primary font-bold text-sm">$${(
                          item.price * item.quantity
                        ).toFixed(2)}</span>
                    </div>
                </div>
            </div>
          `
            )
            .join("");
        }

        const total = cart.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );
        document.getElementById("cart-total").innerText = `$${total.toFixed(
          2
        )}`;
      }

      // --- FUNCIONES DRAWERS/TOAST ---
      function toggleMenu(show) {
        const body = document.body;
        const overlay = document.getElementById("overlay");
        if (show) body.classList.remove("cart-open");

        if (show) {
          body.classList.add("menu-open");
          overlay.classList.remove("hidden");
        } else {
          body.classList.remove("menu-open");
          if (!body.classList.contains("cart-open")) {
            setTimeout(() => overlay.classList.add("hidden"), 300);
          }
        }
      }

      function toggleCart(show) {
        const body = document.body;
        const overlay = document.getElementById("overlay");
        if (show) body.classList.remove("menu-open");

        if (show) {
          body.classList.add("cart-open");
          overlay.classList.remove("hidden");
        } else {
          body.classList.remove("cart-open");
          if (!body.classList.contains("menu-open")) {
            setTimeout(() => overlay.classList.add("hidden"), 300);
          }
        }
      }

      function closeAllDrawers() {
        toggleMenu(false);
        toggleCart(false);
      }

      function showToast() {
        const toast = document.getElementById("toast");
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 3000);
      }
    </script>
  </body>
</html>
